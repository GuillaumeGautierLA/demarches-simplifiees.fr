.tab-title= "Envoyer ce dossier à un autre instructeur"

- if potential_recipients.empty?
  %p.tab-paragraph
    Vous êtes le seul instructeur assigné sur cette démarche
- else
  %p.tab-paragrah.mb-1
    Le destinataire suivra automatiquement le dossier
  = form_for dossier, url: send_to_instructeurs_instructeur_dossier_path(dossier.procedure, dossier), method: :post, html: { class: 'form recipients-form' } do |f|
    .flex.justify-start.align-start
      = select_tag(:recipients,
        options_from_collection_for_select(potential_recipients, :id, :email),
        multiple: true,
        class: 'select2-limited',
        placeholder: '')

      - hidden_field_id = SecureRandom.uuid
      = hidden_field_tag :recipients, nil, data: { uuid: hidden_field_id }
      = react_component("ComboMultipleDropdownListWithArrayOptions", arrayOptions: potential_recipients.map{|r| [r.email, r.id]}, selected: [], disabled: [], hiddenFieldId: hidden_field_id)

      = f.submit "Envoyer", class: "button large send gap-left"
